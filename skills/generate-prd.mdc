---
description: Generate a Product Requirements Document (PRD) through structured conversation
globs:
alwaysApply: false
---

# Generate PRD Skill

**Create detailed, actionable Product Requirements Documents through a structured conversation.**

## When to Use

Invoke this skill when:
- Starting a new feature
- Documenting requirements for a planned enhancement
- Creating a spec before implementation begins
- Needing clarity on scope and success criteria

---

## Process Overview

```
1. Receive feature request → 2. Ask clarifying questions → 3. Generate PRD → 4. Iterate → 5. Save
```

---

## Phase 1: Understand the Request

When the user describes a feature, **DO NOT** start writing the PRD immediately.

First, identify what's clear vs. unclear:
- ✅ Clear: Problem statement, target user, basic functionality
- ❓ Unclear: Scope boundaries, success metrics, edge cases, technical constraints

---

## Phase 2: Ask Clarifying Questions

### Rules for Questions

1. **Limit to 3-5 questions** - Only ask what's truly unclear
2. **Number all questions** (1, 2, 3...)
3. **Provide lettered options** (A, B, C, D) for easy response
4. **Make responding easy** - User can reply "1A, 2C, 3B"
5. **Don't ask the obvious** - If it's inferable from context, don't ask

### Question Categories to Consider

| Category | Ask When... | Example |
|----------|-------------|---------|
| Problem/Goal | The "why" is unclear | "What problem does this solve?" |
| Core Functionality | The "what" is vague | "What are the key actions?" |
| Scope Boundaries | Request is broad | "What should this NOT do?" |
| Target User | Multiple user types possible | "Who is the primary user?" |
| Success Criteria | No clear definition of "done" | "How do we measure success?" |
| Priority/Timeline | Urgency unclear | "What's the priority level?" |

### Example Question Format

```markdown
Before I write the PRD, I have a few clarifying questions:

1. What is the primary goal of this feature?
   A. Improve user experience for existing workflow
   B. Add net-new capability that doesn't exist today
   C. Fix a bug or address a pain point
   D. Performance/speed improvement

2. Who is the target user?
   A. Power users who use the app daily
   B. New users during onboarding
   C. All users equally
   D. Internal/admin users only

3. What's the expected scope?
   A. Minimal viable feature (ship fast, iterate later)
   B. Complete feature with polish
   C. Foundation for a larger system
   D. Quick experiment to validate an idea

Just reply with your selections (e.g., "1B, 2A, 3B") and any additional context.
```

---

## Phase 3: Generate the PRD

After receiving answers, generate the PRD using this structure:

### PRD Template

```markdown
# PRD: [Feature Name]

> **Status:** Draft
> **Author:** [Generated by AI, owned by user]
> **Created:** [Date]
> **Last Updated:** [Date]

---

## 1. Overview

[2-3 sentences describing what this feature does and why it matters]

### Problem Statement
[What pain point or opportunity does this address?]

### Proposed Solution
[High-level description of what we're building]

---

## 2. Goals

| Goal | Success Metric |
|------|----------------|
| [Goal 1] | [How we measure it] |
| [Goal 2] | [How we measure it] |
| [Goal 3] | [How we measure it] |

---

## 3. User Stories

As a [user type], I want to [action] so that [benefit].

### Primary Stories
1. As a [user], I want to [action] so that [benefit]
2. As a [user], I want to [action] so that [benefit]

### Secondary Stories
3. As a [user], I want to [action] so that [benefit]

---

## 4. Functional Requirements

### Must Have (P0)
- [ ] FR-1: [Requirement description]
- [ ] FR-2: [Requirement description]

### Should Have (P1)
- [ ] FR-3: [Requirement description]

### Nice to Have (P2)
- [ ] FR-4: [Requirement description]

---

## 5. Non-Goals (Out of Scope)

Explicitly out of scope for this version:
- ❌ [Thing we're NOT doing]
- ❌ [Another thing we're NOT doing]

---

## 6. Design Considerations

### UI/UX Requirements
- [Description of key interactions]
- [Link to mockups if available]

### Components to Use/Create
- [Existing component to leverage]
- [New component needed]

---

## 7. Technical Considerations

### Dependencies
- [External service or API]
- [Internal module or package]

### Constraints
- [Known limitation]
- [Performance requirement]

### Suggested Approach
- [High-level technical direction, not implementation details]

---

## 8. Success Metrics

How we'll know this feature is successful:

| Metric | Current State | Target | Timeline |
|--------|---------------|--------|----------|
| [Metric 1] | [Baseline] | [Goal] | [When] |
| [Metric 2] | [Baseline] | [Goal] | [When] |

---

## 9. Open Questions

- [ ] Q1: [Unresolved question]
- [ ] Q2: [Unresolved question]

---

## 10. Appendix

### References
- [Link to related docs]
- [Link to prior art]

### Changelog
| Date | Author | Change |
|------|--------|--------|
| [Date] | [Name] | Initial draft |
```

---

## Phase 4: Iterate and Refine

After presenting the PRD:

1. **Ask for feedback:** "Does this capture what you had in mind? What would you change?"
2. **Incorporate edits:** Update sections based on feedback
3. **Resolve open questions:** Work through any ambiguities together
4. **Confirm completion:** "Is this PRD ready to save?"

---

## Phase 5: Save the Document

### File Location and Naming

```bash
# Create tasks directory if it doesn't exist
mkdir -p tasks

# Save the PRD
# Filename format: prd-[feature-name].md
# Example: prd-keyboard-shortcuts.md
```

**Location:** `/tasks/prd-[feature-name].md`

**Naming Convention:**
- All lowercase
- Use hyphens for spaces
- Keep it short but descriptive
- Examples: `prd-dark-mode.md`, `prd-export-to-csv.md`, `prd-notification-system.md`

---

## Writing Guidelines

### Target Audience
The PRD should be understandable by a **junior developer**. This means:
- ✅ Use clear, simple language
- ✅ Define acronyms and technical terms
- ✅ Be explicit about requirements (no implied knowledge)
- ✅ Provide examples where helpful
- ❌ Avoid jargon without explanation
- ❌ Don't assume context that isn't documented

### Quality Checklist

Before saving, verify:
- [ ] Problem statement is clear and compelling
- [ ] Goals are specific and measurable
- [ ] Requirements use "must", "should", "could" language
- [ ] Scope boundaries are explicit (what's IN and OUT)
- [ ] Success metrics are quantifiable
- [ ] Open questions are documented
- [ ] A junior developer could understand and start working from this

---

## Context: Discovering Project Tech Stack

Before generating a PRD, understand the project's architecture by checking:

1. **Package manifest** - `package.json`, `pyproject.toml`, `Cargo.toml`, etc.
2. **Project documentation** - `README.md`, `CLAUDE.md`, `CONTRIBUTING.md`
3. **Existing patterns** - Look at similar features already implemented
4. **Directory structure** - `components/`, `lib/`, `src/`, etc.

Include relevant tech context in the "Technical Considerations" section of the PRD.

---

## Example Interaction

**User:** "I want to add a focus mode that dims everything except the active panel"

**AI (Questions):**
```
Before I write the PRD, a few questions:

1. What triggers focus mode?
   A. Keyboard shortcut only
   B. Button/toggle in the UI
   C. Automatic when typing
   D. All of the above

2. What does "active panel" mean in this context?
   A. The chat pane only
   B. Whichever panel has focus (chat, briefings, etc.)
   C. User-selectable panel
   D. Main content area (excludes sidebars)

3. How should focus mode behave?
   A. Simple dim effect (opacity reduction)
   B. Full-screen takeover (hide other panels)
   C. Spotlight effect (blur + dim)
   D. Customizable by user

Reply with your selections (e.g., "1D, 2B, 3C")
```

**User:** "1A, 2B, 3C"

**AI:** [Generates complete PRD based on answers, then asks for feedback]

---

## Quick Reference

### Commands
```bash
# Create tasks directory
mkdir -p tasks

# List existing PRDs
ls tasks/prd-*.md
```

### PRD Status Values
- `Draft` - Initial creation, still being refined
- `Review` - Ready for stakeholder review
- `Approved` - Ready for implementation
- `In Progress` - Being implemented
- `Complete` - Feature shipped

---

## Anti-Patterns to Avoid

### ❌ Starting to code before asking questions
Always ask clarifying questions first. A good PRD prevents wasted implementation effort.

### ❌ Asking 10+ questions
Keep it to 3-5 essential questions. More than that is a sign the initial request was too vague.

### ❌ Writing implementation details
The PRD describes WHAT and WHY, not HOW. Leave implementation to the developer.

### ❌ Vague requirements
Bad: "The feature should be fast"
Good: "Page load time must be under 200ms"

### ❌ Scope creep during creation
If new requirements emerge, add them to "Future Considerations" not the main requirements.
